SISTEMA OFICINA PROFESSOR CORRIGIDO

CREATE DATABASE OFICINA_OFICIAL;

DROP DATABASE OFICINA_OFICIAL;

USE OFICINA_OFICIAL;


CREATE TABLE CLIENTE(
	IDCLIENTE INT PRIMARY KEY AUTO_INCREMENT,
	NOME VARCHAR(30) NOT NULL,
	SEXO ENUM('M','F'),
	ID_CARRO INT UNIQUE
);

CREATE TABLE TELEFONE(
	IDTELEFONE INT PRIMARY KEY AUTO_INCREMENT,
	TIPO ENUM('CEL','RES','COM') NOT NULL,
	NUMERO VARCHAR(30) NOT NULL,
	ID_CLIENTE INT
);

CREATE TABLE MARCA(
	IDMARCA INT PRIMARY KEY AUTO_INCREMENT,
	MARCA VARCHAR(30) UNIQUE
);

CREATE TABLE CARRO(
	IDCARRO INT PRIMARY KEY AUTO_INCREMENT,
	MODELO VARCHAR(30) NOT NULL,
	PLACA CHAR(7) NOT NULL UNIQUE,
	ID_MARCA INT
);

CREATE TABLE COR(
	IDCOR INT PRIMARY KEY AUTO_INCREMENT,
	COR VARCHAR(30) UNIQUE
);

CREATE TABLE CARRO_COR(
	ID_CARRO INT,
	ID_COR INT,
	PRIMARY KEY(ID_CARRO,ID_COR)
);

CONSTRAINT

ALTER TABLE TELEFONE
	ADD CONSTRAINT FK_TELEFONE_CLIENTE 
	FOREIGN KEY(ID_CLIENTE)
	REFERENCES CLIENTE(IDCLIENTE);

ALTER TABLE CLIENTE
	ADD CONSTRAINT FK_CLIENTE_CARRO
	FOREIGN KEY(ID_CARRO)
	REFERENCES CARRO(IDCARRO);

ALTER TABLE CARRO
	ADD CONSTRAINT FK_CARRO_MARCA
	FOREIGN KEY(ID_MARCA)
	REFERENCES MARCA(IDMARCA);

ALTER TABLE CARRO_COR
	ADD CONSTRAINT FK_COR
	FOREIGN KEY(ID_COR)
	REFERENCES COR(IDCOR);

ALTER TABLE CARRO_COR
	ADD CONSTRAINT FK_CARRO
	FOREIGN KEY(ID_CARRO)
	REFERENCES CARRO(IDCARRO);

SHOW CREATE TABLE TELEFONE;
SHOW CREATE TABLE CLIENTE;
SHOW CREATE TABLE CARRO;
SHOW CREATE TABLE CARRO_COR;


	CLIENTE
INSERT INTO CLIENTE VALUES(NULL,'FULANO','M');
INSERT INTO CLIENTE VALUES(NULL,'BIA','F');
INSERT INTO CLIENTE VALUES(NULL,'BELTRANO','M');
INSERT INTO CLIENTE VALUES(NULL,'DIANA','F');
INSERT INTO CLIENTE VALUES(NULL,'CICRANO','M');
INSERT INTO CLIENTE VALUES(NULL,'PALYBOY','M');

SELECT * FROM CLIENTE;

	TELEFONE
INSERT INTO TELEFONE VALUES(NULL,'1192020301','CEL',4);
INSERT INTO TELEFONE VALUES(NULL,'1140309092','RES',4);
INSERT INTO TELEFONE VALUES(NULL,'1130308034','COM',4);
INSERT INTO TELEFONE VALUES(NULL,'2130506049','CEL',3);
INSERT INTO TELEFONE VALUES(NULL,'2198080408','RES',2);
INSERT INTO TELEFONE VALUES(NULL,'1192020303','CEL',6);

SELECT * FROM TELEFONE;

	CARROS
INSERT INTO CARROS VALUES(NULL,'LAND ROVER',2);
INSERT INTO CARROS VALUES(NULL,'SUBURBAN',5); /*NAO ESTA APRECENDO*/
INSERT INTO CARROS VALUES(NULL,'JAGUAR F-PACE',1); /*NAO ESTA APRECENDO*/
INSERT INTO CARROS VALUES(NULL,'BLAZER EXECUTIVE',4);
INSERT INTO CARROS VALUES(NULL,'DUSTER 4X4',3);
INSERT INTO CARROS VALUES(NULL,'FERRARI SF90',6);

SELECT * FROM CARROS;

	CORES
INSERT INTO CORES VALUES(NULL,'AZUL MARINHO',2);
INSERT INTO CORES VALUES(NULL,'PRETO',5);
INSERT INTO CORES VALUES(NULL,'VERMELHO',1);
INSERT INTO CORES VALUES(NULL,'VERDE',4);
INSERT INTO CORES VALUES(NULL,'DOURADO',4);
INSERT INTO CORES VALUES(NULL,'MARROM',3);
INSERT INTO CORES VALUES(NULL,'PRETO',3);
INSERT INTO CORES VALUES(NULL,'VERMELHO',6);
INSERT INTO CORES VALUES(NULL,'VERDE',6);
INSERT INTO CORES VALUES(NULL,'BRANCO',6);

SELECT * FROM CORES;

*-*-*-*

SELECT * FROM CLIENTE;
SELECT * FROM TELEFONE;
SELECT * FROM CARROS;
SELECT * FROM CORES;
